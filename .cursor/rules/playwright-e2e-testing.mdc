## TESTING

### Guidelines for E2E

#### PLAYWRIGHT

- Default to the Chromium/Desktop Chrome project, but focus on semantic assertions (headings, copy, aria state) instead of `expect(page).toHaveScreenshot()`.
- Always wait for hydration/readiness (e.g. `await expect(form).toBeVisible()` or `waitForLoadState("networkidle")`) before mutating inputs so SSR/React transitions do not wipe values.
- Keep suites that share state (e.g. a single Supabase test user) in `test.describe.configure({ mode: "serial" })` and scope cleanup hooks only to the tests that actually mutate external data.
- Implement the Page Object Model with resilient locators (`getByTestId`) and explicit helper methods per flow.
- Use backend helpers (Supabase admin client, API polling) for setup/teardown instead of UI gymnastics; prefer deleting by stable IDs when available.
- Capture traces/videos on failure for diagnostics, but rely on Playwright's list/html reporters for day-to-day runs.

